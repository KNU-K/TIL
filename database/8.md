# 관계형 해석

## 튜플 관계형 해석

- tuple variable / range variable ( 튜플 변수 )

  let exist Relation 'R'

  R(t) is tuple related to Relation 'R'

  't' is tuple variable

  (t 는 Relation 범위 내에서만 선언된다.)

- qualified attribute ( 한정 어트리뷰트 )

  튜플 변수가 존제 할 떄, 어트리뷰트 A를 특정 튜플인 t에 한정될 때,

  t.A 라 표기하고, 이를 한정 어트리뷰트라고한다.

- atomic ( 원자 )
  튜플 해석식을 구성하는 원자
  |atomic 종류| 설명|
  ---|---
  |R(t)|학생(s)와 같은 튜플 변수|
  |t1.A Θ t2.B|s.학번 = e.학번 과 같은 조건식 (서로 다른 relation)|
  |t1.A Θ c|s.학과 = '컴퓨터' 와 같은 상수와의 조건 식|

  - 각 Θ 는 비교 연산자도 대응된다.

- 정형식(WFF: Well Formed Formula)

  - 원자
  - 논리연산자 (Λ,V,￢)
  - 정량자 (∀(전칭 정량자), ∃(한정 정량자))

    - 사용하면 속박변수
    - 사용안하면 자유변수

    ∃e(e.학번 = s. 학번 Λ e.과목코드 = 'CO423') 이 있을 때,

    (e는 속박변수, s는 자유변수)

위의 요소로 튜플 관계형 해석이 구성된다.

**튜플해석식**: {목표리스트 | 조건} 으로 위의 튜플 관계형 해석의 요소를 사용하여 표기한다.

- Example for tuple relational calculus

  - 과목 'CO123'에서 점수가 90점 이상인 학생의 학번은 무엇인가?

    {e.학번 | 수강(e) Λ e.과목 = 'CO123' Λ e.점수 ≥ 90}

  - 점수가 93점 이상이거나 성적이 'A0' 또는 'A+'인 학생의 학번과 과목코드?

    {e.학번, e. 과목코드 | 수강(e) Λ (e.점수 ≥ 93 V e.성적 = 'A0' V e.성적 = 'A+')}

  - 과목 'CO123'을 수강한 학생의 성명과 전화번호는 무엇인가?

    {s.성명, s.전화번호 | 학생(s) Λ ∃e(수강(e)Λ e.학번 = s.학번 Λ e.과목 ='CO123')}

  - 과목 'CO423'의 성적이 'B+'인 학생의 학번과 성명?

    {s.학번, s.성명 | 학생(s) Λ ∃e(수강(e)Λe.학번 = s.학번 Λ e.과목코드='CO423' Λ e.성적 = 'B+')}

  - '컴퓨터'과 교수가 아닌 교수의 성명과 학과

    {p.성명, p.학과 | 교수(p)Λp.학과 != '컴퓨터'}

  - 성적이 'A+'가 아닌 학생의 성명은 무엇인가?

    {s.성명 | 학생(s) Λ (￢ ∃e)(수강(e)Λe.학번 = s.학번 Λ e.성적 = 'A+')}

  - 4학년 과목을 적어도 한 과목 이상 수강한 학생의 성명은 무엇인가?

    {s.성명 | 학생(s) Λ ∃e(수강(e) Λ s.학번 = e.학번 Λ ∃c(과목(c)Λ c.과목코드 = e.과목코드 Λ c.학년 = 4 ))}

  - 모든 과목에 수강한 학생의 성명과 학과는 무엇인가?

    {s.성명, s.학과 | 학생(s) Λ ∃e(수강(e) Λ e.학번 = s.학번 Λ ∀c(과목(c) Λ c.과목코드 = e.과목코드))}

    {s.성명, s.학과 | 학생(s) Λ (∀c)(∃e)(수강(e) Λ e.학번 = s.학번 Λ 과목(c) Λ c.과목코드 = e.과목코드)}

  - 학번 20181234인 학생이 수강한 과목에 적어도 한 과목을 같이 수강한 학생의 성명은 무엇인가?

    {s.성명 | 학생(s) Λ ∃e1(수강(e1)Λ e1.학번 = s.학번 Λ ∃e2Λ(수강(e2)Λ e2.학번 = 20181234 Λ e1.과목코드 = e2.과목코드))}

    {s.성명 | 학생(s) Λ (∃e2)(∃e1)(수강(e1)Λ e1.학번 = s.학번 Λ 수강(e2)Λ e2.학번 = 20181234 Λ e1.과목코드 = e2.과목코드)}

## 도메인 관계형 해석

- 도메인 변수

  학번(x학번, x성명, x학과, x전화번호)

  학생 relation에 속한 튜플 변수인 학번,성명,학과,전화번호 (변수 앞에 x가 붙는다.)

- example for domain variable

  - 모든 학생의 성명

    {x성명 | 학생(x학번,x성명,x학과,x전화번호)}

  - 컴퓨터과 학생의 학번과 성명을 검색하라

    {x학번, x성명 | (∃x학과)( 학생(x학번,x성명,x학과,x전화번호) Λ x학과 = '컴퓨터과')}

## QBE(Query By Example)

- IBM에서 개발되었다.

- 대부분 질의 언어와는 달리 QBE는 2차원 구문을 가지고있다.

- QBE 질의는 사용자의 요구하는 것에 대한 예를 제공한다.
